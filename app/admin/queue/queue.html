<section class="queue">

    <aside class="sidebar" data-ng-init="sidebar = true" data-ui-toggle="sidebar">

        <h3>Search</h3>

        <form role="form" data-ng-submit="search(filter)">

            <div class="form-group">

                <select class="form-control" name="sport" data-ng-model="filter.sport" data-ng-options="sport.id as sport.name for sport in sportsList">
                    <option value="">Pick a Sport</option>
                </select>

            </div>

            <div class="form-group">

                <select class="form-control" name="status" data-ng-model="filter.status" data-ng-options="status.id as status.name for (key, status) in GAME_STATUSES">
                    <option value="">Status</option>
                </select>

            </div>

            <div class="form-group">

                <input class="form-control" name="id" placeholder="Game ID" data-ng-model="filter.gameId" type="search" autocomplete="on" list="queue-gameIds" autosave="queue-gameIds">
                <datalist id="queue-gameIds">
                    <option data-ng-repeat="games in queue | orderBy:'id'" value="{{game.id}}"></option>
                </datalist>

            </div>

            <div class="form-group">

                <input class="form-control" name="team" placeholder="Team Name" data-ng-model="filter.team" type="search" autocomplete="on" list="queue-teams" autosave="queue-teams">
                <datalist id="queue-teams">
                    <option data-ng-repeat="team in teamsList | unique:'name' | orderBy:'name'" value="{{team.name}}"></option>
                </datalist>

            </div>

            <div class="form-group">

                <input class="form-control" name="coach-firstname" placeholder="Coach First Name" data-ng-model="filter.coachFirstName" type="search" autocomplete="on" list="queue-coach-firstnames" autosave="queue-coach-firstnames">
                <datalist id="queue-coach-firstnames">
                    <option data-ng-repeat="coach in usersList | role:ROLE_TYPE.COACH" value="{{coach.firstName}}"></option>
                </datalist>

            </div>

            <div class="form-group">

                <input class="form-control" name="coach-lastname" placeholder="Coach Last Name" data-ng-model="filter.coachLastName" type="search" autocomplete="on" list="queue-coach-lastnames" autosave="queue-coach-lastnames">
                <datalist id="queue-coach-lastnames">
                    <option data-ng-repeat="coach in usersList | role:ROLE_TYPE.COACH | unique:'lastName' | orderBy:'lastName'" value="{{coach.lastName}}"></option>
                </datalist>

            </div>

            <div class="form-group">

                <input class="form-control" name="indexer-firstname" placeholder="Indexer First Name" data-ng-model="filter.indexerFirstName" type="search" autocomplete="on" list="queue-indexer-firstnames" autosave="queue-indexer-firstnames">
                <datalist id="queue-indexer-firstnames">
                    <option data-ng-repeat="indexer in usersList | role:ROLE_TYPE.INDEXER | unique:'firstName' | orderBy:'firstName'" value="{{indexer.firstName}}"></option>
                </datalist>

            </div>

            <div class="form-group">

                <input class="form-control" name="indexer-lastname" placeholder="Indexer Last Name" data-ng-model="filter.indexerLastName" type="search" autocomplete="on" list="queue-indexer-lastnames" autosave="queue-indexer-lastnames">
                <datalist id="queue-indexer-lastnames">
                    <option data-ng-repeat="indexer in usersList | role:ROLE_TYPE.INDEXER | unique:'lastName' | orderBy:'lastName'" value="{{indexer.lastName}}"></option>
                </datalist>

            </div>

            <div class="form-group">

                <input class="form-control" name="assurer-firstname" placeholder="QA First Name" data-ng-model="filter.qaFirstName" type="search" autocomplete="on" list="queue-assurer-firstnames" autosave="queue-assurer-firstnames">
                <datalist id="queue-assurer-firstnames">
                    <option data-ng-repeat="assurer in usersList | role:ROLE_TYPE.INDEXER | unique:'firstName' | orderBy:'firstName'" value="{{assurer.firstName}}"></option>
                </datalist>

            </div>

            <div class="form-group">

                <input class="form-control" name="assurer-lastname" placeholder="QA Last Name" data-ng-model="filter.qaLastName" type="search" autocomplete="on" list="queue-assurer-lastnames" autosave="queue-assurer-lastnames">
                <datalist id="queue-assurer-lastnames">
                    <option data-ng-repeat="assurer in usersList | role:ROLE_TYPE.INDEXER | unique:'lastName' | orderBy:'lastName'" value="{{assurer.lastName}}"></option>
                </datalist>

            </div>

            <button class="btn-search" data-ng-show="sidebar" data-ng-click="search(filter)" type="submit"><i class="icon icon-search"></i></button>
            <button class="btn-search" data-ng-hide="sidebar" data-ng-click="sidebar=!sidebar"><i class="icon icon-search"></i></button>

            <button class="btn-toggle-sidebar" data-ng-show="sidebar" data-ng-click="sidebar = false"><i class="icon icon-chevron-left"></i></button>
            <button class="btn-toggle-sidebar" data-ng-hide="sidebar" data-ng-click="sidebar = true"><i class="icon icon-chevron-right"></i></button>

        </form>

    </aside>

    <div class="queue-container">

        <div class="queue-dashboard">
            <div class="general-status-row">
                <div class="general-status-col">
                    <h4>Queue Status</h4>
                    <span data-ng-if="queueStatusGood" class="status-good">Good</span>
                    <span data-ng-if="!queueStatusGood" class="status-bad">Bad</span>
                </div>
                <div class="general-status-col">
                    <h4>Current</h4>
                    <span class="general-status-info"><a href>##</a> to be indexed</span>
                    <span class="general-status-info"><a href>##</a> to be QA'd</span>
                </div>
                <div class="general-status-col">
                    <h4>Last 48 Hours</h4>
                    <span class="general-status-info"><a href>##</a> uploaded</span>
                    <span class="general-status-info"><a href>##</a> sent to coach</span>
                </div>
                <div class="general-status-col">
                    <h4>Processing: ##</h4>
                    <span class="general-status-info"><a href>##</a> trans failed</span>
                </div>
                <div class="general-status-col">
                    <h4>Indexers Online Now</h4>
                    <span class="general-status-info">
                        <span><a href>##</a> Indexing</span><a href>##</a> QA'ing
                    </span>
                    <span class="general-status-info"><a href>##</a> Waiting</span>
                </div>
            </div>
            <table class="time-status-row table-responsive">
                <tbody>
                    <tr>
                        <th>48h - 24h</th>
                        <th>24h - 10h</th>
                        <th>10h - 5h</th>
                        <th>5h - 1h</th>
                        <th>&lt;1</th>
                        <th>Late</th>
                        <th>Set Aside</th>
                    </tr>
                    <tr>
                        <td><a href>##</a></td>
                        <td><a href>##</a></td>
                        <td><a href>##</a></td>
                        <td><a href>##</a></td>
                        <td><a href>##</a></td>
                        <td><a href>{{late}}</a></td>
                        <td><a href>##</a></td>
                    </tr>
                </tbody>
            </table>
            <table class="assigned-status-row table-responsive">
                <tbody>
                    <tr>
                        <th>Assigned</th>
                        <th>Unassigned</th>
                    </tr>
                    <tr>
                        <td><a href>##</a></td>
                        <td><a href>##</a></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="list" data-ng-hide="noResults">

            <div class="table-responsive">

                <table class="table table-striped table-hover">

                    <tbody>

                        <tr data-ng-repeat="game in queue | filter: {isDeleted: !true}">

                            <td>{{sports[leagues[teams[game.teamId].leagueId].sportId].name}}</td>
                            <td>{{ game.id }}</td>
                            <td><a data-ui-sref="game({ id: game.id })">{{ teams[game.teamId].name }} vs<br>{{ teams[game.opposingTeamId].name }}</a></td>
                            <td>{{ users[teams[game.teamId].getHeadCoachRole().userId].lastName }}</td>
                            <td>{{ game.getStatus().name }}</td>

                            <td>

                                <button class="btn btn-default" data-ng-if="!game.isAssignedToIndexer() && game.canBeAssignedToIndexer()" data-ng-click="SelectIndexerModal.open(data, game, false)">Select Indexer</button>

                                <ul data-ng-if="game.hasIndexerAssignment()" data-ng-repeat="assignment in game.indexerAssignments.slice().reverse() | filter:{ isQa: false } | limitTo:1">

                                    <li><button class="btn btn-link" data-ng-disabled="game.status != GAME_STATUSES.SET_ASIDE.id" data-ng-click="SelectIndexerModal.open(data, game, false)">{{ users[assignment.userId].firstName }} {{ users[assignment.userId].lastName }}</button></li>

                                </ul>

                            </td>

                            <td>

                                <div data-ng-if="!game.hasQaAssignment() && !game.canBeAssignedToQa()">--</div>

                                <button class="btn btn-default" data-ng-if="!game.isAssignedToQa() && game.canBeAssignedToQa()" data-ng-click="SelectIndexerModal.open(data, game, true)">Select QA</button>

                                <ul data-ng-if="game.hasQaAssignment()" data-ng-repeat="assignment in game.indexerAssignments.slice().reverse() | filter:{ isQa: true } | limitTo:1">

                                    <li><button class="btn btn-link" data-ng-disabled="game.status != GAME_STATUSES.SET_ASIDE.id" data-ng-click="SelectIndexerModal.open(data, game, true)">{{ users[assignment.userId].firstName }} {{ users[assignment.userId].lastName }}</button></li>

                                </ul>

                            </td>

                        </tr>

                    </tbody>

                </table>

            </div>

        </div>

        <div class="noresults" data-ng-show="noResults">

            <i class="icon icon-search"></i>
            <h1>No Results Found</h1>
            <h2>Try your search again.</h2>

        </div>
    </div>

</section>

