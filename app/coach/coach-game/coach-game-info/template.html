<div class="game-info">

    <alert-message data-ng-if="data.game.isDelivered() || data.game.isBeingBrokenDown()" data-type="warning">
        You may not edit your game rosters since the game is being indexed or has been delivered
    </alert-message>

    <div class="row">

        <div class="box col-md-12">

            <div class="box-content row">

                <header class="box-header col-md-12">

                    <x-button-continue data-ng-if="games.isRegular(data.game)" data-ng-disabled="formGameInfo.$invalid || tabs['your-team'].disabled">Next</x-button-continue>
                    <x-button-continue data-ng-if="!games.isRegular(data.game)" data-ng-disabled="formGameInfo.$invalid || tabs['scouting-team'].disabled">Next</x-button-continue>

                </header>

                <div class="box-body col-md-12">

                    <form class="form-game-info" name="formGameInfo" role="form">

                        <div class="row">

                            <div class="col-md-3">

                                <div class="form-group">

                                    <h4>*Date of game</h4>

                                    <data-date data-ng-model="data.game.datePlayed" data-max-date="todaysDate" required></data-date>

                                </div>

                                <div class="form-group">

                                    <h4>*Game type</h4>

                                    <div class="btn-group-vertical">

                                        <button type="button" data-ng-if="games.isRegular(data.game)" class="btn-radio" data-ng-model="data.game.gameType" data-btn-radio="GAME_TYPES.CONFERENCE.id" required>{{ GAME_TYPES.CONFERENCE.name }}</button>
                                        <button type="button" data-ng-if="games.isRegular(data.game)" class="btn-radio" data-ng-model="data.game.gameType" data-btn-radio="GAME_TYPES.NON_CONFERENCE.id" required>{{ GAME_TYPES.NON_CONFERENCE.name }}</button>
                                        <button type="button" data-ng-if="games.isRegular(data.game)" class="btn-radio" data-ng-model="data.game.gameType" data-btn-radio="GAME_TYPES.PLAYOFF.id" required>{{ GAME_TYPES.PLAYOFF.name }}</button>
                                        <button type="button" data-ng-if="!games.isRegular(data.game)" class="btn-radio" data-ng-model="data.game.gameType" data-btn-radio="GAME_TYPES.SCOUTING.id" required>{{ GAME_TYPES.SCOUTING.name }}</button>
                                        <button type="button" data-ng-if="!games.isRegular(data.game)" class="btn-radio" data-ng-model="data.game.gameType" data-btn-radio="GAME_TYPES.SCRIMMAGE.id" required>{{ GAME_TYPES.SCRIMMAGE.name }}</button>
                                    </div>

                                </div>

                                <div data-ng-if="games.isRegular(data.game)" class="form-group">

                                    <h4>*Home/Away</h4>

                                    <div class="btn-group-vertical">

                                        <button type="button" class="btn-radio" data-ng-model="data.game.isHomeGame" data-btn-radio="true" required>Home</button>
                                        <button type="button" class="btn-radio" data-ng-model="data.game.isHomeGame" data-btn-radio="false" required>Away</button>

                                    </div>

                                </div>

                            </div>

                            <div class="col-md-9">

                                <div class="teamTableTitle">
                                    <h4>*Opponents &amp; Score</h4>
                                    <h4 class="pull-right">*Required</h4>
                                </div>

                                <div class="table-responsive">

                                    <table class="table table-bordered">

                                        <thead>

                                            <tr>
                                                <th>Teams</th>
                                                <th class="score">Scores</th>
                                                <th>Colors</th>
                                            </tr>

                                        </thead>

                                        <tbody>

                                            <tr>

                                                <td>
                                                    <h5 data-ng-if="games.isRegular(data.game)"> {{ teams[session.currentUser.currentRole.teamId].name }} </h5>

                                                    <!--if the scouting team does not exist yet-->
                                                    <input class="form-control" data-ng-if="!games.isRegular(data.game) && !data.game.id" name="team" placeholder="Team" data-ng-model="data.team.name">

                                                    <!--if the scouting team already exists-->
                                                    <input class="form-control" data-ng-if="!games.isRegular(data.game) && data.game.id" name="team" placeholder="Team" data-ng-model="teams[data.game.teamId].name">
                                                </td>

                                                <td class="score">

                                                    <div class="row">

                                                        <div class="col-xs-12">

                                                            <h6>Final</h6>
                                                            <input name="yourscore" size="3" data-ng-model="data.game.finalScore" required>

                                                        </div>

                                                    </div>

                                                </td>

                                                <td>

                                                    <div class="row">

                                                        <div class="col-xs-6">

                                                            <h6>Primary</h6>
                                                            <input class="form-control" name="yourprimarycolor" type="color" data-ng-model="data.game.primaryJerseyColor">

                                                        </div>

                                                        <div class="col-xs-6">

                                                            <h6>Secondary</h6>
                                                            <input class="form-control" name="yourprimarycolor" type="color" data-ng-model="data.game.secondaryJerseyColor">

                                                        </div>

                                                    </div>

                                                </td>

                                            </tr>

                                            <tr>

                                                <td>
                                                    <!--Opposing Team already exists-->
                                                    <input data-ng-if="data.game.id" class="form-control" name="opponent" placeholder="Opponent" data-ng-model="teams[data.game.opposingTeamId].name" >

                                                    <!--Opposing Team does not exist yet-->
                                                    <input data-ng-if="!data.game.id" class="form-control" name="opponent" placeholder="Opponent" data-ng-model="data.opposingTeam.name" required>

                                                </td>

                                                <td class="score">

                                                    <h6>Final</h6>
                                                    <input name="opponentscore" size="3" data-ng-model="data.game.opposingFinalScore" required>

                                                </td>

                                                <td>

                                                    <div class="row">

                                                        <div class="col-xs-6">

                                                            <h6>Primary</h6>
                                                            <input class="form-control" name="theirprimarycolor" type="color" data-ng-model="data.game.opposingPrimaryJerseyColor">

                                                        </div>

                                                        <div class="col-xs-6">

                                                            <h6>Secondary</h6>
                                                            <input class="form-control" name="theirprimarycolor" type="color" data-ng-model="data.game.opposingSecondaryJerseyColor">

                                                        </div>

                                                    </div>

                                                </td>

                                            </tr>

                                        </tbody>

                                    </table>

                                </div>

                                <div class="form-group">

                                    <h4>Any problems with the game film we should know about:</h4>
                                    <textarea class="form-control" name="notes" rows="8" cols="40" placeholder="Explain hereâ€¦" data-ng-model="data.game.notes[GAME_NOTE_TYPES.COACH_NOTE][0].content"></textarea>

                                </div>

                            </div>

                        </div>

                    </form>

                </div>

            </div>

            <x-button-continue data-ng-if="games.isRegular(data.game)" data-ng-disabled="formGameInfo.$invalid || tabs['your-team'].disabled">Next</x-button-continue>
            <x-button-continue data-ng-if="!games.isRegular(data.game)" data-ng-disabled="formGameInfo.$invalid || tabs['scouting-team'].disabled">Next</x-button-continue>

        </div>

    </div>

</div>
