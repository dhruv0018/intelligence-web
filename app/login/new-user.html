<div class="login-new-user">

    <form
     class="form-new-user"
     name="newUserForm"
     role="form"
     ng-submit="submitNewUserPassword()"
     novalidate
    >

        <div class="form-group">

            <h2>Welcome to Krossover</h2>
            <p>Enter a password to finish setting up your account</p>

        </div>

        <!-- TODO: This should be made into a directive. -->
        <div class="form-group new-user-form-group">

            <input
             id="new-user-password"
             class="form-field-login new-user-password"
             name="password"
             ng-attr-type="{{newUser.showPassword ? 'text' : 'password'}}"
             ng-minlength="4"
             placeholder="New Password"
             ng-model="newUser.password"
             ng-trim="false"
             oncopy="return false;"
             onpaste="return false;"
             required
            >

            <button
             id="show-hide-password"
             class="show-hide-password"
             ng-click="newUser.showPassword = !newUser.showPassword;"
             type="button"
            >{{newUser.showPassword ? 'Hide' : 'Show'}}</button>

            <!-- TODO: ngMessage or directive? -->
            <div class="new-user-errors">

                <div
                 ng-show="newUserForm.password.$touched && newUserForm.password.$error.required"
                 class="error"
                 role="alert"
                >Required!</div>
                <div

                 ng-show="newUserForm.password.$touched && newUserForm.password.$error.minlength"
                 class="error"
                 role="alert"
                >Password must be at least 4 characters long.</div>

            </div>

        </div>

        <div class="form-group new-user-form-group">

            <form-toggle
             name="remember"
             class="new-user-accept"
             data-id="new-user-accept-terms-cta"
             data-required="true"
             model="newUser.agree"
            >

                I agree to the <a id="new-user-show-terms-cta" ng-click="showTerms($event);">Krossover Terms &amp; Conditions</a>

            </form-toggle>

        </div>

        <div class="form-group">

            <button
             id="new-user-set-password-cta"
             class="button-set-password"
             type="submit"
             ng-disabled="newUserForm.$invalid || newUser.submitted"
            >

                <span ng-hide="newUser.submitted">Go to your account</span>
                <span ng-show="newUser.submitted">Submitting...</span>

            </button>

        </div>

    </form>

</div>
