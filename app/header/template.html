<x-krossover-rolebar data-ng-if="auth.isLoggedIn"></x-krossover-rolebar>

<nav class="header header-default" role="navigation">

    <header class="navbar-header">

        <a class="navbar-brand" data-sref="Account.ContactInfo"><div class="icon icon-krossover-symbol"></div></a>

    </header>

    <!-- Admin menu -->
    <menu class="nav navbar-nav" data-ng-if="currentUser.is(SUPER_ADMIN) || currentUser.is(ADMIN)">

        <li data-ui-sref-active="active"><a data-ui-sref="users">Users</a></li>
        <li data-ui-sref-active="active"><a data-ui-sref="teams">Teams</a></li>
        <li data-ui-sref-active="active"><a data-ui-sref="schools">Schools</a></li>
        <li data-ui-sref-active="active"><a data-ui-sref="queue">Queue</a></li>
        <!--<li class="disabled" data-ui-sref-active="active"><a data-ui-sref="reports">Reports</a></li>-->
        <li class="header-dropdown" data-ui-sref-active="active" data-ng-show="currentUser.is(SUPER_ADMIN)"><a class="dropdown-toggle">Platform</a>
            <ul class="dropdown-menu">
                <li><a data-ui-sref="plan-defaults">Plan Defaults</a></li>
                <li><a data-ui-sref="leagues">Leagues</a></li>
                <!--<li data-ng-hide="true"><a href="#">Indexing Pricing</a></li>-->
                <!--<li data-ng-hide="true"><a href="#">Action Rules</a></li>-->
                <!--<li data-ng-hide="true"><a href="#">Set Aside Times</a></li>-->
            </ul>
        </li>

    </menu>

    <!-- Indexer menu -->
    <menu class="nav navbar-nav" data-ng-if="currentUser.is(INDEXER)">

        <li data-ui-sref-active="active"><a data-ui-sref="indexer-games">Games</a></li>
        <!--<li class="disabled" data-ui-sref-active="active"><a data-ui-sref="indexer-history">History</a></li>-->

    </menu>

    <!-- Coach menu -->
    <menu class="nav navbar-nav" data-ng-if="currentUser.is(COACH)">

        <li data-ui-sref-active="active"><a data-ui-sref="Coach.FilmHome">Film Home</a></li>
        <!-- <li class="disabled hide-option" data-ui-sref-active="active"><a data-ui-sref="analytics">Analytics</a></li> -->

        <li class="header-dropdown" data-ng-class="{active: $state.includes('Coach.Team')}">
            <a class="dropdown-toggle">Team</a>
            <ul class="dropdown-menu">
                <li><a data-ui-sref="Coach.Team.Roster">Roster</a></li>
                <li data-ng-if="currentUser.is(HEAD_COACH)"><a data-ui-sref="Coach.Team.Assistants">Coaches</a></li>
                <!--<li data-ng-hide="true"><a href="#">Sets</a></li>-->
            </ul>

        </li>
        <li><a data-ng-href="{{config.links.support.uri}}" target="_blank">Support <i class="icon icon-external-link"></i></a></li>
        <li data-ui-sref-active="active"><button class="btn btn-primary navbar-btn" data-ng-click="tabs.reset()" data-ui-sref="add-film" data-ui-sref-opts="{reload: true}">Add Film</button></li>
    </menu>

    <!-- Athlete menu -->
    <menu class="nav navbar-nav" data-ng-if="currentUser.is(ATHLETE)">

        <li data-ui-sref-active="active"><a data-ui-sref="Athlete.FilmHome">Film Home</a></li>

    </menu>

    <div data-ng-if="auth.isLoggedIn" class="nav navbar-nav navbar-right">

        <div class="role-dropdown" data-dropdown data-is-open="status.isopen">

            <button class="dropdown-toggle">

                <i class="icon" data-ng-class="{'icon-chevron-up': status.isopen, 'icon-chevron-down': !status.isopen}"></i>
                <x-krossover-role user="currentUser" role="currentUser.currentRole"></x-krossover-role>

            </button>

            <ul class="dropdown-menu">

                <li data-ng-hide="currentUser.is(ATHLETE)" data-ng-repeat="role in currentUser.roles">

                    <a href data-ng-click="account.changeCurrentUserRole(role)">

                        <x-krossover-role user="currentUser" role="role"></x-krossover-role>

                    </a>

                </li>

                <footer>

                    <button class="btn-footer" data-ui-sref="Account.ContactInfo" data-ng-disabled="$state.current.parent === 'Account'"><i class="icon icon-cog"></i> Your Account</button>
                    <button class="btn-footer" data-ng-if="session.isPreviousUserStored()" data-ng-click="account.returnToPreviousUser()"><i class="icon icon-signout"></i> Return to previous user</button>
                    <button class="btn-footer" data-ng-if="!session.isPreviousUserStored()" data-ng-click="logout()"><i class="icon icon-signout"></i> Log out</button>

                </footer>

            </ul>

        </div>

    </div>

    <div data-ng-if="!auth.isLoggedIn" class="nav navbar-nav navbar-right public-view">
        <a data-ui-sref="login" class="go-to-login"><i class="icon icon-sign-in"></i> Log in</a>
        <a href="http://www.krossover.com"><i class="icon icon-info-circle"></i> Find out more</a>
    </div>

</nav>

<x-alertbar></x-alertbar>
