@import (reference) "main.less";

.modal {
    display: flex !important; // Override bootstrap inline display:block
    justify-content: center; // center horizontally
    align-items: center; // center vertically

    /* For Angular Material */
    &-content {

        padding: 0;
    }
}

/* Base Modal Mixin: Common styles for modals used as prompts */
.base-modal() {

    .desktop({

        min-width: 50%;
        max-width: 50%;
    });

    .modal {

        &-body {

            overflow: hidden;
            overflow-y: auto;
        }

        &-header,
        &-footer {

            flex: 1 0 auto;
        }
    }
}

/* Modal layout */

.modal-header {

    width: 100%;
    display: flex;
    height: @modal-header-height;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;

    .icon-remove {
        color: @brand-danger;
        cursor: pointer;
    }
}

.modal-title {

    color: @brand-blue;
    font-size: @font-size-small;
    font-weight: 400;
    letter-spacing: 0.01em;
    text-transform: none;
    text-align: left;
}

.modal-content {

    font-size: 15px;
    font-family: @font-family-serif;
    border-radius: @border-radius-base;
    border: none;
    box-shadow: none;
}

.modal-body {

    .errors {

        margin: 10px;
        height: 21px;
    }
}

.button-row {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    margin-top: 20px;
}

.modal-footer {

    width: 100%;
}

/* Buttons */

.modal-button {

    .btn;

    &:enabled {

        .btn-primary;
    }

    &:disabled {

        .btn;
    }

}

/* Generic Actionable Items */

.modal-cta {

    cursor: pointer;

    &:focus {

        outline: none;
    }

    &-selected {

        color: @brand-blue;
        font-weight: 500;
    }
}

/* Angular Material Overrides */

/* Place the dialog above the loading Spinner */
.md-dialog-container {

    z-index: @zindex-modal;

    /* Prevent Angular Material from pushing the modal down on iOS Safari. */
    .mobile({

        top: 0 !important;
    });
}

/* Set the modal backdrop to blue */
md-backdrop.md-opaque.md-default-theme {

    background-color: fade(@brand-blue, 80%);
}

/* On mobile, make the modal dialog full screen */
md-dialog.md-default-theme {

    @full-screen-modal: {

        display: block;
        top: @mobile-pad;
        left: @mobile-pad;
        bottom: @mobile-pad;
        right: @mobile-pad;
        position: absolute;
        max-width: 100%;
        max-height: calc(~"100% - @{mobile-pad} - @{mobile-pad}");
        min-width: 0;
        min-height: 0;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
    };

    .phone(@full-screen-modal);
    .phone-landscape(@full-screen-modal);
}
