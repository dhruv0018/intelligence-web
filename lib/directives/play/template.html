<div class="play" data-ng-show="currentUser.is(INDEXER) || (!currentUser.is(INDEXER) && play.hasVisibleEvents)" data-ng-class="{ active: play.id == playManager.current.id }" data-ng-click="selectPlay()">
    <div class="playHeading" data-ng-click="openPlay()">
        <h4 data-ng-if="currentUser.is(INDEXER)" data-ng-class="{'playCollapsed': !expandAll && !isOpen}">
            <span class="period">{{ league.periodAbbreviationLabel }} {{ play.period }}</span>
            <span class="dash"> — </span>
            <time>{{ play.startTime | time }}<span class="dash"> — </span>{{ play.endTime | time }}</time>
        </h4>
        <h4 data-ng-class="{'playCollapsed': !expandAll && !isOpen}">
            <span data-ng-if="!currentUser.is(INDEXER)" class="team">{{teams[play.possessionTeamId].name}}</span>
            <span data-ng-if="currentUser.is(INDEXER)" class="team">{{ team.name }}</span>
            <span data-ng-if="currentUser.is(INDEXER)" class="score">{{ play.teamIndexedScore }}</span>
            <span data-ng-if="currentUser.is(INDEXER)" class="vs">&nbsp;vs&nbsp;</span>
            <span data-ng-if="currentUser.is(INDEXER)" class="score">{{ play.opposingIndexedScore }}</span>
            <span data-ng-if="currentUser.is(INDEXER)" class="team">{{ opposingTeam.name }}</span>
            <span class="playplay" data-ng-if="!currentUser.is(INDEXER)" data-ng-click="$event.stopPropagation();"><i class="icon icon-play-circle"></i></span>
            <div data-ng-if="!currentUser.is(INDEXER)" class="summaries" data-ng-repeat="summary in play.summaries | orderBy:'priority'">
                <krossover-item data-data="data" data-item="item" data-event="summary.event" data-ng-repeat="item in summary.items track by $index"></krossover-item>
            </div>
        </h4>
    </div>
    <div class="playBody" data-ng-class="{'playHide': !expandAll && !isOpen}">
        <krossover-events data-game="game" data-plays="plays" data-play="play" data-events="play.events" data-league="league" data-team-players="teamPlayers" data-opposing-team-players="opposingTeamPlayers" data-videoplayer="videoplayer"></krossover-events>

        <hr>

        <button class="btn-delete-play" data-ng-if="currentUser.is(INDEXER)" data-ng-click="deletePlay()"><i class="icon icon-remove"></i> Delete Play</button>
        <button class="play-link disabled" data-ng-if="!currentUser.is(INDEXER)"><i class="icon icon-plus"></i> Add to reel</button>
        <button class="play-link pull-right disabled" data-ng-if="!currentUser.is(INDEXER)"><i class="icon icon-tag"></i> Label Play</button>
    </div>
</div>
