<accordion-group data-ng-if="currentUser.is(INDEXER)" data-is-open="isOpen" data-is-disabled="expandAll" class="play" data-ng-class="{ active: play.id == currentPlayId }" data-ng-click="selectPlay(play)">
    <accordion-heading>
        <h4 data-ng-class="{'playCollapsed': !isOpen}">
            <span class="period">{{ league.periodAbbreviationLabel }} {{ play.period }}</span>
            <span class="dash"> — </span>
            <time>{{ play.startTime | time }}<span class="dash"> — </span>{{ play.endTime | time }}</time>
        </h4>
        <h4 data-ng-class="{'playCollapsed': !isOpen}">
            <span class="team">{{ team.name }}</span>
            <span class="score">{{ play.teamIndexedScore }}</span>
            <span class="vs">&nbsp;vs&nbsp;</span>
            <span class="score">{{ play.opposingIndexedScore }}</span>
            <span class="team">{{ opposingTeam.name }}</span>
        </h4>
    </accordion-heading>
    <div>
        <krossover-events data-game="game" data-plays="plays" data-play="play" data-events="play.events" data-league="league" data-team-players="teamPlayers" data-opposing-team-players="opposingTeamPlayers" data-videoplayer="videoplayer"></krossover-events>

        <hr>

        <button class="btn-delete-play" data-ng-click="deletePlay(play)"><i class="icon icon-remove"></i> Delete Play</button>
    </div>
</accordion-group>

<accordion-group data-ng-if="!currentUser.is(INDEXER)" data-ng-show="play.hasVisibleEvents" data-is-open="isOpen" data-is-disabled="expandAll" class="play" data-ng-class="{ active: play.id == currentPlayId }" data-ng-click="selectPlay(play)">
    <accordion-heading>
        <h4 data-ng-class="{'playCollapsed': !isOpen}">
            <span class="team">{{teams[play.possessionTeamId].name}}</span>
            <span class="playplay" data-ng-click="$event.stopPropagation();"><i class="icon icon-play-circle"></i></span>
            <div class="summaries" data-ng-repeat="summary in play.summaries | orderBy:'priority'">
                <krossover-item data-item="item" data-event="summary.event" data-ng-repeat="item in summary.items track by $index"></krossover-item>
            </div>
        </h4>
    </accordion-heading>
    <div>
        <krossover-events data-game="game" data-plays="plays" data-play="play" data-events="play.events" data-league="league" data-team-players="teamPlayers" data-opposing-team-players="opposingTeamPlayers" data-videoplayer="videoplayer"></krossover-events>

        <hr>

        <button class="play-link disabled"><i class="icon icon-plus"></i> Add to reel</button>
        <button class="play-link pull-right disabled"><i class="icon icon-tag"></i> Label Play</button>
    </div>
</accordion-group>
