<div class="search-dropdown dropdown" dropdown is-open="status.isopen">
    <button
        class="btn btn-sm dropdown-toggle"
        ng-class="{'btn-default': !status.isopen, 'btn-primary': status.isopen}"
        dropdown-toggle
    >
        Select {{optionLabel}}
    </button>
    <div class="search-dropdown-menu dropdown-menu" ng-click="$event.stopPropagation()">
        <div class="search-input-container">
            <i class="icon icon-search"></i>
            <input
                ng-model="filters[searchCriteria]"
                ng-keydown="keyPressTracker($event, filters.name)"
                placeholder="Search {{optionLabel}}"
                maxlength="50">
        </div>

        <div class="options-list">
            <span class="option-selection-label" ng-hide="filters[searchCriteria]">All {{optionLabel}}s</span>
            <span class="option-selection-label" ng-show="filters[searchCriteria]">Matching {{optionLabel}}s</span>
            <ul>
                <li
                    ng-repeat="option in matchingOptions = (options | filter: filters)"
                    ng-click="selectOption(option)"
                    ng-class="{'focused' : $index == focusIndex}"
                    ng-mouseenter="setFocusIndex($index)"
                    ng-mouseleave="setFocusIndex(-1)"
                >{{option[searchCriteria]}}</li>
            </ul>
            <p ng-hide="matchingOptions.length">No {{optionLabel}}s match your search</p>
        </div>
    </div>
</div>