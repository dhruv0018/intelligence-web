<section class="game">

    <div class="content-wrapper">

        <header>

            <h2>Game Id <em>#{{ game.id }}</em></h2>
            <h1>{{ teamName }} vs {{ opposingTeamName }}</h1>
            <h3>{{ sport.name }}, <a data-ui-sref="user-info({ id: headCoach.id })">Coach {{ headCoach.lastName }}</a></h3>

        </header>

        <main class="content content-full-height">

            <table class="game-info table table-bordered">

                <colgroup>
                    <col class="col-md-4">
                    <col class="col-md-2">
                    <col class="col-md-3">
                    <col class="col-md-3">
                </colgroup>

                <thead>

                    <tr>

                        <th>Teams</th>
                        <th>Colors</th>
                        <th>Reported Scores</th>
                        <th>
                            <!-- TODO: Get Indexed Scores -->
                            <!-- Indexed Scores -->
                        </th>

                    </tr>

                </thead>

                <tbody>

                    <tr>

                        <td class="name">

                            <h1>{{ teamName }}</h1>
                            <h5>Customer</h5>

                        </td>

                        <td class="colors">

                            <div class="row">

                                <div class="col-xs-6">

                                    <h6>Primary</h6>
                                    <input class="form-control" name="yourprimarycolor" type="color" data-ng-model="game.primaryColor" disabled>

                                </div>

                                <div class="col-xs-6">

                                    <h6>Secondary</h6>
                                    <input class="form-control" name="yourprimarycolor" type="color" data-ng-model="game.secondaryColor" disabled>

                                </div>

                            </div>

                        </td>

                        <td class="score">

                            <h2>{{ game.finalScore }}</h2>

                        </td>

                        <td>

                            <!-- TODO: Get Customer Team Indexed Score -->

                        </td>

                    </tr>

                    <tr>

                        <td class="name">

                            <h1>{{ opposingTeamName }}</h1>
                            <h5>Opponent</h5>

                        </td>

                        <td class="colors">

                            <div class="row">

                                <div class="col-xs-6">

                                    <h6>Primary</h6>
                                    <input class="form-control" name="theirprimarycolor" type="color" data-ng-model="game.opposingPrimaryColor" disabled>

                                </div>

                                <div class="col-xs-6">

                                    <h6>Secondary</h6>
                                    <input class="form-control" name="theirprimarycolor" type="color" data-ng-model="game.opposingSecondaryColor" disabled>

                                </div>

                            </div>

                        </td>

                        <td class="score">

                            <h2>{{ game.opposingFinalScore }}</h2>

                        </td>

                        <td>

                            <!-- TODO: Get Opposing Team Indexed Score -->

                        </td>

                    </tr>

                    <tr>

                        <td colspan="4">

                            <h3><i class="icon-pushpin"></i> Coaches Notes:</h3>

                            <div data-ng-repeat="note in game.notes">

                                <p data-ng-if="note.noteTypeId == GAME_NOTE_TYPES.COACH_NOTE">{{ note.content }}</p>

                            </div>

                            <hr>

                            <h3><i class="icon-pushpin"></i> Krossover Notes:</h3>

                            <div data-ng-repeat="note in game.notes">

                                <p data-ng-if="note.noteTypeId == GAME_NOTE_TYPES.INDEXER_NOTE || note.noteTypeId == GAME_NOTE_TYPES.QA_NOTE || ">{{ note.content }}</p>

                            </div>

                            <hr>

                            <h3><i class="icon-pushpin"></i> Set Aside Notes:</h3>

                            <div data-ng-repeat="note in game.notes">

                                <p data-ng-if="note.noteTypeId == GAME_NOTE_TYPES.SET_ASIDE_NOTE">{{ note.content }}</p>

                            </div>

                            <hr>

                            <h3><i class="icon-pushpin"></i> Coach's feedback in indexing:</h3>

                            <div data-ng-repeat="note in game.notes">

                                <p data-ng-if="note.noteTypeId == GAME_NOTE_TYPES.COACH_COMPLAINT_NOTE">{{ note.content }}</p>

                            </div>

                        </td>

                    </tr>

                </tbody>

            </table>

        </main>

    </div>

    <aside class="sidebar sidebar-right">

        <ul>

            <li><button class="btn btn-link" data-ui-sref="raw-film({ id: game.videoId })" disabled><i class="icon-play-sign"></i> View raw film</button></li>
            <li><button class="btn btn-link" data-ui-sref="add-coach-feedback" disabled><i class="icon-pencil"></i> Add coach's feedback</button></li>
            <li><button class="btn btn-link" data-ng-click="delete(game)" disabled><i class="icon-remove-sign"></i> Delete game</button></li>

        </ul>

        <hr>

        <h4>Time remaining to deliver</h4>
        <time>6h 15m</time>

        <h4>Game length</h4>
        <time>59m</time>

        <h4>Time to index:</h4>
        <time>1h 30m</time>

        <h4>Time to QA:</h4>
        <time>5m</time>

        <h4>Date uploaded</h4>
        <time>Jun 23, 1014</time>

        <hr>

        <h4>Indexer</h4>

        <button class="btn btn-link" data-ng-if="!game.hasIndexerAssignment()" data-ng-click="assign('indexer', game.id)">Assign Game</button>

        <ul data-ng-if="game.hasIndexerAssignment()" data-ng-repeat="assignment in game.indexerAssignments">

            <li data-ng-if="!assignment.isQa">{{ users[assignment.userId].firstName }} {{ users[assignment.userId].lastName }}</li>

        </ul>

        <h4>QA</h4>

        <div data-ng-if="!game.hasIndexerAssignment()">--</div>
        <button class="btn btn-link" data-ng-if="game.hasIndexerAssignment() && !game.hasQaAssignment()" data-ng-click="assign('assurer', game.id)">Assign Game</button>

        <ul data-ng-if="game.hasQaAssignment()" data-ng-repeat="assignment in game.indexerAssignments">

            <li data-ng-if="assignment.isQa">{{ users[assignment.userId].firstName }} {{ users[assignment.userId].lastName }}</li>

        </ul>

    </aside>

</section>

