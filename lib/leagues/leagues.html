<section class="leagues" data-ng-controller="LeaguesController">

    <aside class="sidebar" data-ng-init="sidebar = true" data-ui-toggle="sidebar">

        <x-button-add-new data-ui-sref="league-info">Add a new league</x-button-add-new>

        <h3>Search</h3>

        <form role="form">

            <div class="form-group">

                <input class="form-control" name="name" placeholder="League Name" data-ng-model="filter.name" type="search" autocomplete="on" list="league-name" autosave="league-name">
                <datalist id="league-name">
                    <option data-ng-repeat="league in leagues | unique:'name' | orderBy:'name'" value="{{league.name}}">
                </datalist>

            </div>

            <div class="form-group">

                <select class="form-control" name="sport" data-ng-model="filter.sport" data-ng-options="sport.id as sport.name for sport in sports">
                    <option value="">Sport</option>
                </select>

            </div>

            <div class="form-group">

                <select class="form-control" name="gender" data-ng-model="filter.gender" data-ng-options="gender.value as gender.label for gender in genders">
                    <option value="">Gender</option>
                </select>

            </div>

        </form>

        <button class="btn-search" data-ng-show="sidebar" data-ng-click="search(filter)"></button>
        <button class="btn-search" data-ng-hide="sidebar" data-ng-click="sidebar=!sidebar"></button>

        <button class="btn-toggle-sidebar" data-ng-click="sidebar=!sidebar"></button>

    </aside>

    <div class="list">

        <div class="table-responsive">

            <table class="table table-striped table-hover">

                <tbody>

                    <tr data-ng-repeat="league in leagues">

                        <td>{{league.name}}</td>
                        <td ng-repeat="sport in sports | filter:{id: league.sportId}">{{sport.name}}</td>
                        <td>{{league.gender}}</td>
                        <td><button class="edit pull-right" data-ui-sref="league-info({ id: league.id })"><i class="icon-pencil"></i> Edit</button></td>

                    </tr>

                </tbody>

            </table>
            <p data-ng-show="noResults">No results found.</p>

        </div>

    </div>

</section>

