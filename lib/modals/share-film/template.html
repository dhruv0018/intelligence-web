<div class="share-film">

    <header class="modal-header">
    	<h3 class="modal-title">
	    	<span data-ng-show="!withOtherUsers && !withPublic && !withWufoo">Pick how you would like to share</span>
	        <span data-ng-show="withOtherUsers">Share this film with other Krossover users</span>
	        <span data-ng-show="withPublic">Share this film via public URL</span>
            <span data-ng-show="withWufoo && isGame">Film Room Sharing</span>
	        <i class="icon icon-remove pull-right" data-ng-click="$dismiss()"></i>
	    </h3>

    </header>

    <div class="modal-body">

        <div class="share-options-container" data-ng-show="!withOtherUsers && !withPublic && !withWufoo">
        	<!--With Team Option for Game-->
            <div class="share-options option-your-team" data-ng-show="isGame">
        		<h3>Your Team</h3>
        		<i class="icon icon-group"></i>
        		Games are automatically shared amongst team coaches and athletes on your active roster.
        	</div>
            <!--With Team Option for Reel-->
            <div class="share-options option-your-team-reels" data-ng-show="!isGame" data-ng-click="shareReelWithTeamToggle()">
                <h3>Your Team</h3>
                <i class="icon icon-group"></i>
                <div class="team-share-toggle">
                    <i class="icon icon-check-empty" data-ng-show="!shareWithTeam"></i>
                    <i class="icon icon-check-square-o" data-ng-show="shareWithTeam"></i>
                    Share With My Team
                </div>
            </div>
        	<div class="share-options middle-option" data-ng-click="withOtherUsers = true">
        		<h3>Other Krossover Users</h3>
        		<i class="icon icon-logo"></i>
        	</div>
        	<div class="share-options" data-ng-click="withPublic = true">
        		<h3>Recruiters or others via public URL</h3>
        		<i class="icon icon-globe"></i>
        	</div>
            <div class="temp-wufoo-btn">
                <button class="btn btn-primary" data-ng-click="withWufoo = true">Film Room Sharing</button>
            </div>
        </div>

        <div class="sharing-with-others-container" data-ng-show="withOtherUsers">
        	<div class="info-box">
        		<span data-ng-show="isGame">Games are automatically shared amongst team coaches and athletes on your active roster.<br/></span>
        		If the person you want to share with does not have a Krossover account, <a data-ng-click="withOtherUsers = false; withPublic = true">share a URL</a> with them.
        	</div>
        	<span data-ng-show="film.isSharedWithUser(user)" class="share-error-message"><i class="icon icon-warning"></i> That user is already being shared with.</span>
        	<span data-ng-show="user.id === currentUser.id" class="share-error-message"><i class="icon icon-warning"></i> You cannot share with yourself.</span>
        	<h3>Sharing with:</h3>
        	<form>
        		<user-typeahead data-user="user" data-filter="filter"></user-typeahead>
        		<button type="submit" class="btn btn-primary" data-ng-disabled="!user.id || film.isSharedWithUser(user) || user.id === currentUser.id" data-ng-click="shareSubmit(user); user = null">Add</button>
        	</form>
        	<div class="how-to-search">Start typing the last name of the user you want to share with.</div>
        	<div data-ng-show="film.getUserShares().length" class="shared-with-table">
        		<div class="shared-with-header">Name</div>
        		<div class="shared-with" data-ng-repeat="share in film.getUserShares()">
        			<strong>{{users[share.sharedWithUserId].firstName}} {{users[share.sharedWithUserId].lastName}}</strong>
        			<span class="pull-right">
        				Sharing raw film
        				<i class="icon icon-remove" data-ng-click="shareRevoke(users[share.sharedWithUserId])"></i>
        			</span>
        		</div>
        	</div>
        	<div class="button-row">
        		<button class="btn btn-default" data-ng-click="withOtherUsers = false">Back</button>
        		<button class="btn btn-primary pull-right" data-ng-click="$close()">Done</button>
        	</div>
        </div>

        <div class="sharing-with-public-container" data-ng-show="withPublic">
            <div class="public-link-box" data-ng-class="{inActive:!linkActive}">
                <a href="/intelligence/g/{{shortId}}" target="_blank">krossover.com/g/{{shortId}}</a>
            </div>
            <div class="activate-row">
                <button class="btn btn-primary" data-ng-if="!linkActive" data-ng-click="activateLink()">Activate Link</button>
                <button class="btn btn-primary btn-deactivate" data-ng-if="linkActive" data-ng-click="deactivateLink()">Deactivate Link</button>
                <span data-ng-if="!linkActive">Link is not active.</span>
                <span data-ng-if="linkActive">Link is active.</span>
            </div>
            <p data-ng-if="!linkActive">Once activated, you can copy this URL (web address) and share it with anyone.</p>
            <p data-ng-if="linkActive">Once deactivated, no one can access this game with this link.</p>
            <p data-ng-if="!linkActive">Anyone with this link will be able to access the Raw Film for this game.</p>
            <p data-ng-if="linkActive">If you have placed this game in another Krossover user's account, deactivating the link will not remove this game from their account.</p>
            <div class="button-row">
                <button class="btn btn-default" data-ng-click="withPublic = false">Back</button>
            </div>
        </div>

        <div class="wufoo-form" data-ng-show="withWufoo && isGame">
            <iframe height="636" allowtransparency="true" frameborder="0" scrolling="no" style="width:100%;border:none" src="https://krossover.wufoo.com/embed/rz0hmlj13906x9/"><a href="https://krossover.wufoo.com/forms/rz0hmlj13906x9/">Fill out the share request form</a></iframe>
        </div>

    </div>

</div>
