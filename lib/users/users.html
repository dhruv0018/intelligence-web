<section class="users" data-ng-controller="UsersController">

    <div class="search-bar">
		<table>
			<tr>
				<td><input class="form-control" placeholder="Email" data-ng-model="filter.email" type="text"></td>
				<td><input class="form-control" placeholder="First name" data-ng-model="filter.firstName" type="text"></td>
				<td><input class="form-control" placeholder="Last name" data-ng-model="filter.lastName" type="text"></td>
                <td>
                	<select class="form-control" data-ng-model="filter.role" data-ng-options="role.type.id as role.type.name for role in ROLES | EditableRolesByRole: currentUser.currentRole">
                    	<option value="">Roles</option>
                    </select>
                </td>        
                <td>
                	<select class="form-control" data-ng-model="filter.isActive" data-ng-options="status.value as status.label for status in statuses">
                    	<option value="">Status</option>
                    </select>
                </td>
                <td><button class="btn btn-primary" data-ng-click="search(filter)">Search</button></td>
			</tr>
		</table>
        <button class="btn-add-new" data-ng-click="add()"><i class="icon-plus"></i> Add New User</button>

    </div>

    <div class="list">

        <div class="table-responsive">

            <table class="table table-striped table-hover">

                <tbody>

                    <tr data-ng-repeat="user in users">

                        <td>{{user.email}}</td>
                        <td class="name"><a href>{{user.firstName}} {{user.lastName}}</a></td>
                        
                        <td class="roles">

                            <ul>

                                <li class="role-name" data-ng-repeat="role in user.roles">

                                    <a href>

                                        <span data-ng-if="user.is(HEAD_COACH)">Head Coach, Team to be implemented</span>
                                        <span data-ng-if="user.is(ASSISTANT_COACH)">Assist. Coach, Team to be implemented</span>
                                        <span data-ng-if="user.is(ATHLETE)">Athlete, Sport to be implemented</span>
                                        <span data-ng-if="!user.is(HEAD_COACH) && !user.is(ASSISTANT_COACH) && !user.is(ATHLETE)">{{role.type.name}}</span>

                                    </a>

                                </li>

                            </ul>

                        </td>

                        <td>

                            <ul>

                                <li data-ng-repeat="role in user.roles">

                                    <span data-ng-if="user.isActive" class="active">Active</span>
                                    <span data-ng-if="!user.isActive" class="inactive">Inactive</span>

                                </li>

                            </ul>

                        </td>

                        <td>

                            <button class="edit" data-ng-click="edit(user)"><i class="icon-pencil"></i> Edit</button>

                        </td>

                    </tr>

                </tbody>

            </table>
            <p data-ng-show="noResults">No results found.</p>

        </div>

    </div>

</section>

